{"remainingRequest":"/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/babel-loader/lib/index.js!/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/mona/Desktop/main-prj-09-filtering-coaches/src/pages/coaches/CoachesList.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/mona/Desktop/main-prj-09-filtering-coaches/src/pages/coaches/CoachesList.vue","mtime":1606398282000},{"path":"/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbW9uYS9EZXNrdG9wL21haW4tcHJqLTA5LWZpbHRlcmluZy1jb2FjaGVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IENvYWNoSXRlbSBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvYWNoZXMvQ29hY2hJdGVtLnZ1ZSc7CmltcG9ydCBDb2FjaEZpbHRlciBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvYWNoZXMvQ29hY2hGaWx0ZXIudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvYWNoSXRlbTogQ29hY2hJdGVtLAogICAgQ29hY2hGaWx0ZXI6IENvYWNoRmlsdGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZXJyb2U6IG51bGwsCiAgICAgIGFjdGl2ZUZpbHRlcnM6IHsKICAgICAgICBmcm9udGVuZDogdHJ1ZSwKICAgICAgICBiYWNrZW5kOiB0cnVlLAogICAgICAgIGNhcmVlcjogdHJ1ZQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzQ29hY2g6IGZ1bmN0aW9uIGlzQ29hY2goKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzWydjb2FjaGVzL2lzQ29hY2gnXTsKICAgIH0sCiAgICBmaWx0ZXJlZENvYWNoZXM6IGZ1bmN0aW9uIGZpbHRlcmVkQ29hY2hlcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBjb2FjaGVzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snY29hY2hlcy9jb2FjaGVzJ107CiAgICAgIHJldHVybiBjb2FjaGVzLmZpbHRlcihmdW5jdGlvbiAoY29hY2gpIHsKICAgICAgICBpZiAoX3RoaXMuYWN0aXZlRmlsdGVycy5mcm9udGVuZCAmJiBjb2FjaC5hcmVhcy5pbmNsdWRlcygnZnJvbnRlbmQnKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICBpZiAoX3RoaXMuYWN0aXZlRmlsdGVycy5iYWNrZW5kICYmIGNvYWNoLmFyZWFzLmluY2x1ZGVzKCdiYWNrZW5kJykpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICAgICAgaWYgKF90aGlzLmFjdGl2ZUZpbHRlcnMuY2FyZWVyICYmIGNvYWNoLmFyZWFzLmluY2x1ZGVzKCdjYXJlZXInKSkgewogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGhhc0NvYWNoZXM6IGZ1bmN0aW9uIGhhc0NvYWNoZXMoKSB7CiAgICAgIHJldHVybiAhdGhpcy5pc0xvYWRpbmcgJiYgdGhpcy4kc3RvcmUuZ2V0dGVyc1snY29hY2hlcy9oYXNDb2FjaGVzJ107CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkQ29hY2hlcygpOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0RmlsdGVyczogZnVuY3Rpb24gc2V0RmlsdGVycyh1cGRhdGVkRmlsdGVycykgewogICAgICB0aGlzLmFjdGl2ZUZpbHRlcnMgPSB1cGRhdGVkRmlsdGVyczsKICAgIH0sCiAgICBsb2FkQ29hY2hlczogZnVuY3Rpb24gbG9hZENvYWNoZXMoKSB7CiAgICAgIHZhciBfYXJndW1lbnRzID0gYXJndW1lbnRzLAogICAgICAgICAgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlZnJlc2g7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVmcmVzaCA9IF9hcmd1bWVudHMubGVuZ3RoID4gMCAmJiBfYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBfYXJndW1lbnRzWzBdIDogZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpczIuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAyOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgnY29hY2hlcy9sb2FkQ29hY2hlcycsIHsKICAgICAgICAgICAgICAgICAgZm9yY2VSZWZyZXNoOiByZWZyZXNoCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvciA9IF9jb250ZXh0LnQwLm1lc3NhZ2UgfHwgJ1NvbXRoaWcgV0VudCBXcm9uZyc7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfdGhpczIuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUVycm9yOiBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHsKICAgICAgdGhpcy5lcnJvciA9IG51bGw7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/mona/Desktop/main-prj-09-filtering-coaches/src/pages/coaches/CoachesList.vue"],"names":[],"mappings":";;;;;AAmCA,OAAO,SAAP,MAAsB,wCAAtB;AACA,OAAO,WAAP,MAAwB,0CAAxB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT,SADU;AAEV,IAAA,WAAU,EAAV;AAFU,GADC;AAKb,EAAA,IALa,kBAKN;AACL,WAAO;AACL,MAAA,SAAS,EAAE,KADN;AAEL,MAAA,KAAK,EAAE,IAFF;AAGL,MAAA,aAAa,EAAE;AACb,QAAA,QAAQ,EAAE,IADG;AAEb,QAAA,OAAO,EAAE,IAFI;AAGb,QAAA,MAAM,EAAE;AAHK;AAHV,KAAP;AASD,GAfY;AAgBb,EAAA,QAAQ,EAAE;AACR,IAAA,OADQ,qBACE;AACR,aAAO,KAAK,MAAL,CAAY,OAAZ,CAAoB,iBAApB,CAAP;AACD,KAHO;AAIR,IAAA,eAJQ,6BAIU;AAAA;;AAChB,UAAM,OAAM,GAAI,KAAK,MAAL,CAAY,OAAZ,CAAoB,iBAApB,CAAhB;AACA,aAAO,OAAO,CAAC,MAAR,CAAe,UAAA,KAAI,EAAK;AAC7B,YAAI,KAAI,CAAC,aAAL,CAAmB,QAAnB,IAA+B,KAAK,CAAC,KAAN,CAAY,QAAZ,CAAqB,UAArB,CAAnC,EAAqE;AACnE,iBAAO,IAAP;AACF;;AACA,YAAI,KAAI,CAAC,aAAL,CAAmB,OAAnB,IAA8B,KAAK,CAAC,KAAN,CAAY,QAAZ,CAAqB,SAArB,CAAlC,EAAmE;AACjE,iBAAO,IAAP;AACF;;AACA,YAAI,KAAI,CAAC,aAAL,CAAmB,MAAnB,IAA6B,KAAK,CAAC,KAAN,CAAY,QAAZ,CAAqB,QAArB,CAAjC,EAAiE;AAC/D,iBAAO,IAAP;AACF;;AACA,eAAO,KAAP;AACD,OAXM,CAAP;AAYD,KAlBO;AAmBR,IAAA,UAnBQ,wBAmBK;AACX,aAAO,CAAC,KAAK,SAAN,IAAmB,KAAK,MAAL,CAAY,OAAZ,CAAoB,oBAApB,CAA1B;AACF;AArBQ,GAhBG;AAuCb,EAAA,OAvCa,qBAuCH;AACR,SAAK,WAAL;AACD,GAzCY;AA0Cb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,sBACI,cADJ,EACoB;AACzB,WAAK,aAAL,GAAqB,cAArB;AACD,KAHM;AAID,IAAA,WAJC,yBAI4B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAjB,gBAAA,OAAiB,0EAAP,KAAO;AACjC,gBAAA,MAAI,CAAC,SAAL,GAAiB,IAAjB;AADiC;AAAA;AAAA,uBAGzB,MAAI,CAAC,MAAL,CAAY,QAAZ,CAAqB,qBAArB,EAA4C;AAChD,kBAAA,YAAY,EAAE;AADkC,iBAA5C,CAHyB;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAO/B,gBAAA,MAAI,CAAC,KAAL,GAAa,YAAM,OAAN,IAAiB,oBAA9B;;AAP+B;AAUjC,gBAAA,MAAI,CAAC,SAAL,GAAiB,KAAjB;;AAViC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWlC,KAfM;AAgBP,IAAA,WAhBO,yBAgBO;AACZ,WAAK,KAAL,GAAa,IAAb;AACF;AAlBO;AA1CI,CAAf","sourcesContent":["<template>\n  <div>\n    <base-dialog :v-show=\"!!error\" title=\"An error occoured\" @close=\"handleError\">\n      <p>{{error}}</p>\n    </base-dialog>\n    <section>\n      <coach-filter @change-filter=\"setFilters\"></coach-filter>\n    </section>\n    <section>\n      <base-card>\n        <div class=\"controls\">\n          <base-button mode=\"outline\" @click=\"loadCoaches(true)\">Refresh</base-button>\n          <base-button v-if=\"!isCoach && !isLoading\" link to=\"/register\">Register as Coach</base-button>\n        </div>\n        <div v-if=\"isloading\">\n          <base-spinner></base-spinner>\n        </div>\n        <ul v-else-if=\"hasCoaches\">\n          <coach-item\n            v-for=\"coach in filteredCoaches\"\n            :key=\"coach.id\"\n            :id=\"coach.id\"\n            :first-name=\"coach.firstName\"\n            :last-name=\"coach.lastName\"\n            :rate=\"coach.hourlyRate\"\n            :areas=\"coach.areas\"\n          ></coach-item>\n        </ul>\n        <h3 v-else>No coaches found.</h3>\n      </base-card>\n    </section>\n  </div>\n</template>\n\n<script>\nimport CoachItem from '../../components/coaches/CoachItem.vue';\nimport CoachFilter from '../../components/coaches/CoachFilter.vue';\n\nexport default {\n  components: {\n    CoachItem,\n    CoachFilter\n  },\n  data() {\n    return {\n      isLoading: false,\n      erroe: null,\n      activeFilters: {\n        frontend: true,\n        backend: true,\n        career: true\n      }\n    };\n  },\n  computed: {\n    isCoach() {\n      return this.$store.getters['coaches/isCoach'];\n    },\n    filteredCoaches() {\n      const coaches = this.$store.getters['coaches/coaches'];\n      return coaches.filter(coach => {\n        if (this.activeFilters.frontend && coach.areas.includes('frontend')) {\n          return true;\n        }\n        if (this.activeFilters.backend && coach.areas.includes('backend')) {\n          return true;\n        }\n        if (this.activeFilters.career && coach.areas.includes('career')) {\n          return true;\n        }\n        return false;\n      });\n    },\n    hasCoaches() {\n      return !this.isLoading && this.$store.getters['coaches/hasCoaches'];\n    }\n  },\n  created() {\n    this.loadCoaches();\n  },\n  methods: {\n    setFilters(updatedFilters) {\n      this.activeFilters = updatedFilters;\n    },\n    async loadCoaches(refresh = false) {\n      this.isLoading = true;\n      try {\n        await this.$store.dispatch('coaches/loadCoaches', {\n          forceRefresh: refresh\n        });\n      } catch (error) {\n        this.error = error.message || 'Somthig WEnt Wrong';\n      }\n\n      this.isLoading = false;\n    },\n    handleError() {\n      this.error = null;\n    }\n  }\n};\n</script>\n\n<style scoped>\nul {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.controls {\n  display: flex;\n  justify-content: space-between;\n}\n</style>"],"sourceRoot":""}]}