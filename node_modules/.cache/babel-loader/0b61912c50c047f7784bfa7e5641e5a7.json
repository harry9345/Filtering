{"remainingRequest":"/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/babel-loader/lib/index.js!/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/eslint-loader/index.js??ref--13-0!/Users/mona/Desktop/main-prj-09-filtering-coaches/src/store/modules/coaches/actions.js","dependencies":[{"path":"/Users/mona/Desktop/main-prj-09-filtering-coaches/src/store/modules/coaches/actions.js","mtime":1606400062000},{"path":"/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/mona/Desktop/main-prj-09-filtering-coaches/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9tb25hL0Rlc2t0b3AvbWFpbi1wcmotMDktZmlsdGVyaW5nLWNvYWNoZXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbW9uYS9EZXNrdG9wL21haW4tcHJqLTA5LWZpbHRlcmluZy1jb2FjaGVzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKZXhwb3J0IGRlZmF1bHQgewogIHJlZ2lzdGVyQ29hY2g6IGZ1bmN0aW9uIHJlZ2lzdGVyQ29hY2goY29udGV4dCwgZGF0YSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHVzZXJJZCwgY29hY2hEYXRhLCByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHVzZXJJZCA9IGNvbnRleHQucm9vdEdldHRlcnMudXNlcklkOwogICAgICAgICAgICAgIGNvYWNoRGF0YSA9IHsKICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZGF0YS5maXJzdCwKICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBkYXRhLmxhc3QsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjLAogICAgICAgICAgICAgICAgaG91cmx5UmF0ZTogZGF0YS5yYXRlLAogICAgICAgICAgICAgICAgYXJlYXM6IGRhdGEuYXJlYXMKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly9maWx0ZXJpbmctY29hY2guZmlyZWJhc2Vpby5jb20vY29hY2hlcy8iLmNvbmNhdCh1c2VySWQsICIuanNvbiIpLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY29hY2hEYXRhKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgLy8gIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKQogICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsvLyBlcnJvcgogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3JlZ2lzdGVyQ29hY2gnLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvYWNoRGF0YSksIHt9LCB7CiAgICAgICAgICAgICAgICBpZDogdXNlcklkCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbG9hZENvYWNoZXM6IGZ1bmN0aW9uIGxvYWRDb2FjaGVzKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgcmVzcG9uc2UsIHJlc3BvbnNlRGF0YSwgZXJyb3IsIGNvYWNoZXMsIGtleSwgY29hY2g7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEoIXBheWxvYWQuZm9yY2VSZWZyZXNoIHx8ICFjb250ZXh0LmdldHRlcnMuc2hvdWxkVXBkYXRlKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly9maWx0ZXJpbmctY29hY2guZmlyZWJhc2Vpby5jb20vY29hY2hlcy5qc29uIik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZURhdGEubWVzc2FnZSB8fCAnRmFpbGVkIFRvIEZldGNoIScpOwogICAgICAgICAgICAgIHRocm93IGVycm9yOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjb2FjaGVzID0gW107CgogICAgICAgICAgICAgIGZvciAoa2V5IGluIHJlc3BvbnNlRGF0YSkgewogICAgICAgICAgICAgICAgY29hY2ggPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBrZXksCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogcmVzcG9uc2VEYXRhW2tleV0uZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZTogcmVzcG9uc2VEYXRhW2tleV0ubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXNwb25zZURhdGFba2V5XS5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgaG91cmx5UmF0ZTogcmVzcG9uc2VEYXRhW2tleV0uaG91cmx5UmF0ZSwKICAgICAgICAgICAgICAgICAgYXJlYXM6IHJlc3BvbnNlRGF0YVtrZXldLmFyZWFzCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgY29hY2hlcy5wdXNoKGNvYWNoKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRDb2FjaGVzJywgY29hY2hlcyk7CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldEZldGNoVGltZXN0YW1wJyk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/mona/Desktop/main-prj-09-filtering-coaches/src/store/modules/coaches/actions.js"],"names":["registerCoach","context","data","userId","rootGetters","coachData","firstName","first","lastName","last","description","desc","hourlyRate","rate","areas","fetch","method","body","JSON","stringify","response","ok","commit","id","loadCoaches","payload","forceRefresh","getters","shouldUpdate","json","responseData","error","Error","message","coaches","key","coach","push"],"mappings":";;;;;;AAAA,eAAe;AACPA,EAAAA,aADO,yBACOC,OADP,EACgBC,IADhB,EACsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BC,cAAAA,MAD2B,GAClBF,OAAO,CAACG,WAAR,CAAoBD,MADF;AAE3BE,cAAAA,SAF2B,GAEf;AAChBC,gBAAAA,SAAS,EAAEJ,IAAI,CAACK,KADA;AAEhBC,gBAAAA,QAAQ,EAAEN,IAAI,CAACO,IAFC;AAGhBC,gBAAAA,WAAW,EAAER,IAAI,CAACS,IAHF;AAIhBC,gBAAAA,UAAU,EAAEV,IAAI,CAACW,IAJD;AAKhBC,gBAAAA,KAAK,EAAEZ,IAAI,CAACY;AALI,eAFe;AAAA;AAAA,qBAUVC,KAAK,0DACwBZ,MADxB,YAE1B;AACEa,gBAAAA,MAAM,EAAE,KADV;AAEEC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAed,SAAf;AAFR,eAF0B,CAVK;;AAAA;AAU3Be,cAAAA,QAV2B;;AAkBjC;AAEA,kBAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB,CAChB;AACD;;AACDpB,cAAAA,OAAO,CAACqB,MAAR,CAAe,eAAf,kCACKjB,SADL;AAEEkB,gBAAAA,EAAE,EAAEpB;AAFN;;AAvBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BlC,GA5BY;AA6BPqB,EAAAA,WA7BO,uBA6BKvB,OA7BL,EA6BcwB,OA7Bd,EA6BuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAC9B,CAACA,OAAO,CAACC,YAAT,IAAyB,CAACzB,OAAO,CAAC0B,OAAR,CAAgBC,YADZ;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAIXb,KAAK,uDAJM;;AAAA;AAI5BK,cAAAA,QAJ4B;AAAA;AAAA,qBAOPA,QAAQ,CAACS,IAAT,EAPO;;AAAA;AAO5BC,cAAAA,YAP4B;;AAAA,kBAQ7BV,QAAQ,CAACC,EARoB;AAAA;AAAA;AAAA;;AAS1BU,cAAAA,KAT0B,GASlB,IAAIC,KAAJ,CAAUF,YAAY,CAACG,OAAb,IAAwB,kBAAlC,CATkB;AAAA,oBAU1BF,KAV0B;;AAAA;AAY5BG,cAAAA,OAZ4B,GAYlB,EAZkB;;AAalC,mBAAWC,GAAX,IAAkBL,YAAlB,EAAgC;AACxBM,gBAAAA,KADwB,GAChB;AACZb,kBAAAA,EAAE,EAAEY,GADQ;AAEZ7B,kBAAAA,SAAS,EAAEwB,YAAY,CAACK,GAAD,CAAZ,CAAkB7B,SAFjB;AAGZE,kBAAAA,QAAQ,EAAEsB,YAAY,CAACK,GAAD,CAAZ,CAAkB3B,QAHhB;AAIZE,kBAAAA,WAAW,EAAEoB,YAAY,CAACK,GAAD,CAAZ,CAAkBzB,WAJnB;AAKZE,kBAAAA,UAAU,EAAEkB,YAAY,CAACK,GAAD,CAAZ,CAAkBvB,UALlB;AAMZE,kBAAAA,KAAK,EAAEgB,YAAY,CAACK,GAAD,CAAZ,CAAkBrB;AANb,iBADgB;AAS9BoB,gBAAAA,OAAO,CAACG,IAAR,CAAaD,KAAb;AACD;;AAEDnC,cAAAA,OAAO,CAACqB,MAAR,CAAe,YAAf,EAA6BY,OAA7B;AACAjC,cAAAA,OAAO,CAACqB,MAAR,CAAe,mBAAf;;AA1BkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BnC;AAxDY,CAAf","sourcesContent":["export default {\n  async registerCoach(context, data) {\n    const userId = context.rootGetters.userId;\n    const coachData = {\n      firstName: data.first,\n      lastName: data.last,\n      description: data.desc,\n      hourlyRate: data.rate,\n      areas: data.areas\n    };\n\n    const response = await fetch(\n      `https://filtering-coach.firebaseio.com/coaches/${userId}.json`,\n      {\n        method: 'PUT',\n        body: JSON.stringify(coachData)\n      }\n    );\n\n    //  const responseData = await response.json()\n\n    if (!response.ok) {\n      // error\n    }\n    context.commit('registerCoach', {\n      ...coachData,\n      id: userId\n    });\n  },\n  async loadCoaches(context, payload) {\n    if (!payload.forceRefresh || !context.getters.shouldUpdate) {\n      return;\n    }\n    const response = await fetch(\n      `https://filtering-coach.firebaseio.com/coaches.json`\n    );\n    const responseData = await response.json();\n    if (!response.ok) {\n      const error = new Error(responseData.message || 'Failed To Fetch!');\n      throw error;\n    }\n    const coaches = [];\n    for (const key in responseData) {\n      const coach = {\n        id: key,\n        firstName: responseData[key].firstName,\n        lastName: responseData[key].lastName,\n        description: responseData[key].description,\n        hourlyRate: responseData[key].hourlyRate,\n        areas: responseData[key].areas\n      };\n      coaches.push(coach);\n    }\n\n    context.commit('setCoaches', coaches);\n    context.commit('setFetchTimestamp');\n  }\n};\n"]}]}